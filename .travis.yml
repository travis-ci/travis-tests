language: ruby
# rvm: 
#  - 2.6.6
env: 
  - TEST_FLAG=TRUE
  - TEST_FLAG=FALSE
# separate test scenarios to separate yml files please and use build config import: https://docs.travis-ci.com/user/build-config-imports + https://blog.travis-ci.com/2019-11-11-build-config-imports
import:
- .sbom.yml

jobs:
  include:
  - name: Bionic Ruby 2.6.6 at jobs.include[1].rvm level
    os: linux
    dist: bionic
    language: ruby
    rvm: 2.6.6
    script:
      - ruby ./source/ruby_hello.rb
  - name: Bionic Ruby 2.7.5 at jobs.include[1].rvm level
    os: linux
    dist: bionic
    language: ruby
    rvm: 2.7.5
    script:
      - ruby ./source/ruby_hello.rb
  # testing basic conditionals
  - name: Bionic Ruby 2.6.6 TRUE
    os: linux
    dist: bionic
    language: ruby
    #rvm: 2.6.6
    if: (env(TEST_FLAG) = TRUE)
    script:
      - ruby ./source/ruby_hello.rb
      - echo Test flag is ${TEST_FLAG} 
  - name: Bionic Ruby 2.6.6 FALSE
    os: linux
    dist: bionic
    language: ruby
    #rvm: 2.6.6
    if: (env(TEST_FLAG) = FALSE)
    script:
      - ruby ./source/ruby_hello.rb
      - echo Test flag is ${TEST_FLAG} 
